{"version":3,"sources":["useFocusedListenersChildrenAdapter.tsx"],"names":["React","NavigationBuilderContext","useFocusedListenersChildrenAdapter","navigation","focusedListeners","useContext","addFocusedListener","listener","useCallback","callback","isFocused","handled","result","useEffect"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,wBAAP,KAGO,4BAHP,CAcA,cAAe,SAASC,CAAAA,kCAAT,MAGH,IAFVC,CAAAA,UAEU,MAFVA,UAEU,CADVC,gBACU,MADVA,gBACU,uBACqBJ,KAAK,CAACK,UAAN,CAAiBJ,wBAAjB,CADrB,CACFK,kBADE,mBACFA,kBADE,CAGV,GAAMC,CAAAA,QAAQ,CAAGP,KAAK,CAACQ,WAAN,CACf,SAACC,QAAD,CAA8C,CAC5C,GAAIN,UAAU,CAACO,SAAX,EAAJ,CAA4B,CAC1B,kBAAuBN,gBAAvB,4IAAyC,0IAA9BG,CAAAA,UAA8B,sBACXA,UAAQ,CAACE,QAAD,CADG,CAC/BE,QAD+B,YAC/BA,OAD+B,CACtBC,OADsB,YACtBA,MADsB,CAGvC,GAAID,QAAJ,CAAa,CACX,MAAO,CAAEA,OAAO,CAAPA,QAAF,CAAWC,MAAM,CAANA,OAAX,CAAP,CACD,CACF,CAED,MAAO,CAAED,OAAO,CAAE,IAAX,CAAiBC,MAAM,CAAEH,QAAQ,CAACN,UAAD,CAAjC,CAAP,CACD,CAVD,IAUO,CACL,MAAO,CAAEQ,OAAO,CAAE,KAAX,CAAkBC,MAAM,CAAE,IAA1B,CAAP,CACD,CACF,CAfc,CAgBf,CAACR,gBAAD,CAAmBD,UAAnB,CAhBe,CAAjB,CAmBAH,KAAK,CAACa,SAAN,CAAgB,iBAAMP,CAAAA,kBAAN,cAAMA,kBAAkB,CAAGC,QAAH,CAAxB,EAAhB,CAAsD,CACpDD,kBADoD,CAEpDC,QAFoD,CAAtD,EAID","sourcesContent":["import * as React from 'react';\nimport NavigationBuilderContext, {\n  FocusedNavigationCallback,\n  FocusedNavigationListener,\n} from './NavigationBuilderContext';\nimport { NavigationHelpers, ParamListBase } from './types';\n\ntype Options = {\n  navigation: NavigationHelpers<ParamListBase>;\n  focusedListeners: FocusedNavigationListener[];\n};\n\n/**\n * Hook for passing focus callback to children\n */\nexport default function useFocusedListenersChildrenAdapter({\n  navigation,\n  focusedListeners,\n}: Options) {\n  const { addFocusedListener } = React.useContext(NavigationBuilderContext);\n\n  const listener = React.useCallback(\n    (callback: FocusedNavigationCallback<any>) => {\n      if (navigation.isFocused()) {\n        for (const listener of focusedListeners) {\n          const { handled, result } = listener(callback);\n\n          if (handled) {\n            return { handled, result };\n          }\n        }\n\n        return { handled: true, result: callback(navigation) };\n      } else {\n        return { handled: false, result: null };\n      }\n    },\n    [focusedListeners, navigation]\n  );\n\n  React.useEffect(() => addFocusedListener?.(listener), [\n    addFocusedListener,\n    listener,\n  ]);\n}\n"]}