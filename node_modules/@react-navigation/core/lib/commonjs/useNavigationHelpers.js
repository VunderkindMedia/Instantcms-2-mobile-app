var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=useNavigationHelpers;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var React=_interopRequireWildcard(require("react"));var CommonActions=_interopRequireWildcard(require("./CommonActions"));var _NavigationContext=_interopRequireDefault(require("./NavigationContext"));var _ResetRootContext=_interopRequireDefault(require("./ResetRootContext"));var _NavigationContainer=require("./NavigationContainer");var _types=require("./types");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}_types.PrivateValueStore;function useNavigationHelpers(_ref){var onAction=_ref.onAction,getState=_ref.getState,emitter=_ref.emitter,router=_ref.router;var resetRoot=React.useContext(_ResetRootContext.default);var parentNavigationHelpers=React.useContext(_NavigationContext.default);var _React$useContext=React.useContext(_NavigationContainer.NavigationStateContext),performTransaction=_React$useContext.performTransaction;return React.useMemo(function(){var dispatch=function dispatch(action){performTransaction(function(){var payload=typeof action==='function'?action(getState()):action;var handled=onAction(payload);if(!handled&&process.env.NODE_ENV!=='production'){console.error("The action '"+payload.type+"' with payload '"+JSON.stringify(payload.payload)+"' was not handled by any navigator.");}});};var actions=_objectSpread({},router.actionCreators,{},CommonActions);var helpers=Object.keys(actions).reduce(function(acc,name){acc[name]=function(){return dispatch(actions[name].apply(actions,arguments));};return acc;},{});return _objectSpread({},parentNavigationHelpers,{},helpers,{resetRoot:resetRoot,dispatch:dispatch,emit:emitter.emit,isFocused:parentNavigationHelpers?parentNavigationHelpers.isFocused:function(){return true;},canGoBack:function canGoBack(){var state=getState();return router.getStateForAction(state,CommonActions.goBack(),{routeNames:state.routeNames,routeParamList:{}})!==null||(parentNavigationHelpers==null?void 0:parentNavigationHelpers.canGoBack())||false;}});},[router,getState,parentNavigationHelpers,resetRoot,emitter.emit,performTransaction,onAction]);}
//# sourceMappingURL=useNavigationHelpers.js.map